CMAKE_MINIMUM_REQUIRED(VERSION 3.0)

SET(EXECUTABLES
Crop
EstimatorToMarkedCells
FadalightMeshToSimpleMesh
MarkedCellsTriangleMeshToQuadMesh
MeshCoarsener
MeshRefiner
MultiMeshConstructor
MultiMeshConstructorQuadToTri
ReaderMesh
Rotate
)

SET(SIMFEMCPPLIBRARY ${CMAKE_INSTALL_PREFIX}/lib/libSimFem${CMAKE_BUILD_TYPE}.dylib)

message("############{SIMFEMCPPLIBRARY} ${SIMFEMCPPLIBRARY}")
SET(CMAKE_MODULE_PATH ${CMAKE_SOURCE_DIR}/../CMakeModules)
INCLUDE(SimFemOptions)
INCLUDE(SimFemFindExternalLibraries)
INCLUDE_DIRECTORIES(${SIMFEM_EXTERNAL_INCLUDES} ${CMAKE_INSTALL_PREFIX}/include)
INCLUDE(SimFemSummary)
FOREACH(EXECUTABLE ${EXECUTABLES})
  AUX_SOURCE_DIRECTORY(${EXECUTABLE}/src  SRC${EXECUTABLE})
  ADD_EXECUTABLE(${EXECUTABLE} ${SRC${EXECUTABLE}})
  TARGET_LINK_LIBRARIES(${EXECUTABLE} ${SIMFEM_EXTERNAL_LINKLIBS} ${SIMFEMCPPLIBRARY})
  INSTALL(TARGETS ${EXECUTABLE} DESTINATION bin)
ENDFOREACH(EXECUTABLE)
